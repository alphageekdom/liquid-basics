<!doctype html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Liquid Basics</title>
    </head>

    <body>
        <script type="text/template">

          <h1>Hi {{ user.name }}</h1>
          <h3>{{ user.order_id | prepend: "Your Order: #"}}</h3>
          <p>{{ user.email | prepend: "Email: "}}</p>
          <p>This order has been cancelled because you're a {{ user.age }} year old cat.</p>
          <span style="font-weight: 700">Total Refund: {{ user.price | plus: user.tax }}</span>

        <!-- Conditionals -->
        {% assign total_age = 15 %}
        {% if total_age == 18 and total_age <= 20 %} 
        <h1>You can join the military and not drink.</h1>
        {% elsif total_age >= 21 %}
        <h1>You can join the military and drink.</h1>
        {% else %}
        <h1>You cannot join the military or drink, you're too young!</h1>
        {% endif %}

        <!-- Case -->
        {% assign food = 'cake' %}
            {% case food %}
                {% when "cake" %}
                    This is a cake
                {% when "cookie", "biscuit" %}
                    This is a cookie
                {% else %}
                    This is not a cake or cookie
            {% endcase %}

        </script>

        <div id="result"></div>

        <!-- Liquid For Development -->
        <script src="https://cdn.jsdelivr.net/npm/liquidjs/dist/liquid.browser.umd.js"></script>
        <script>
            const template = document.querySelector('[type="text/template"]');
            const result = document.querySelector("#result");
            const engine = new liquidjs.Liquid();

            engine
                .parseAndRender(template.innerHTML, {
                    user: {
                        email: "tuxedocat@gmail.com",
                        name: "Michael Jackson",
                        order_id: 1234,
                        age: 5,
                        price: 59.99,
                        tax: 5,
                    },
                })
                .then((html) => (result.innerHTML = html));
        </script>
    </body>

</html>